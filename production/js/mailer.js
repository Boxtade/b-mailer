var nodemailer=require("nodemailer"),fs=require("fs");exports.send=function(e,o){var n=nodemailer.createTransport(e.options());n.verify(function(r,t){if(r)console.log(r);else{var i=fs.createReadStream(e.template()),a={from:e.from(),to:e.to(),subject:e.subject(),html:i};n.sendMail(a,function(e,n){e&&fs.appendFile("bmailer.log",e),void 0!==o&&o()})}})},exports.send_option=function(e,o,n){var r=nodemailer.createTransport(e.options());r.verify(function(e,t){e?console.log(e):r.sendMail(o,function(e,o){e&&fs.appendFile("bmailer.log",e),void 0!==n&&n()})})},exports.send_to=function(e,o,n){var r=nodemailer.createTransport(e.options());r.verify(function(t,i){if(t)console.log(t);else{var a=fs.createReadStream(e.template()),s={from:e.from(),to:o,subject:e.subject(),html:a};r.sendMail(s,function(e,o){e&&fs.appendFile("bmailer.log",e),void 0!==n&&n()})}})};